(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[0],{14:function(e,t,n){},9:function(e,t,n){"use strict";n.r(t);var a=n(3),l=n(4),c=n(2),i=n(6),o=n(5),s=n(1),r=n.n(s),d=n(8),h=n.n(d),u=(n(14),n(0)),m=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).handleClickDetail=l.handleClickDetail.bind(Object(c.a)(l)),l.demo1=e.demo1,l}return Object(l.a)(n,[{key:"handleClickDetail",value:function(e){this.demo1.loadContentDetail(e)}},{key:"render",value:function(){var e=this,t=Object.keys(this.demo1.state.result).map((function(t){var n=e.demo1.state.result[t];if(!n.isXmlContent)return!1;var a,l=n.localeContent.Title?n.localeContent.Title:n.localeContent.Question;return n.localeContent.Paragraph[0].Image&&(a=n.localeContent.Paragraph[0].Image.Image.link),a=a?e.demo1.SERVER+a:"/favicon.ico",Object(u.jsxs)("div",{className:"demo1-list-item",onClick:function(n){return e.handleClickDetail(t,n)},children:[Object(u.jsx)("div",{className:"demo1-list-item-img-panel",children:Object(u.jsx)("img",{src:a,alt:l,className:"demo1-list-item-img"})}),Object(u.jsx)("div",{className:"demo1-list-item-label-wrapper",children:Object(u.jsx)("div",{className:"demo1-list-item-label",children:l})})]},t)}));return Object(u.jsxs)("div",{className:"demo1-list",children:[Object(u.jsxs)("h3",{children:[this.demo1.label[this.demo1.state.type]," (List)"]}),Object(u.jsx)("div",{className:"demo1-list-items",children:t})]})}}]),n}(r.a.Component),j=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).handleChange=l.handleChange.bind(Object(c.a)(l)),l.demo1=e.demo1,l}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.demo1.loadContentList(e.target.value)}},{key:"render",value:function(){var e=this,t=this.demo1.typeList.map((function(t){return Object(u.jsx)("option",{value:t,children:e.demo1.label[t]},t)}));return Object(u.jsxs)("div",{className:"demo1-select",children:[Object(u.jsx)("label",{htmlFor:"demo1ContentSelect",children:"Please select a content type: "}),Object(u.jsx)("select",{id:"demo1ContentSelect",value:this.demo1.state.type,onChange:this.handleChange,children:t})]})}}]),n}(r.a.Component),b=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).handleClickList=l.handleClickList.bind(Object(c.a)(l)),l.demo1=e.demo1,l}return Object(l.a)(n,[{key:"handleClickList",value:function(e){e.preventDefault(),this.demo1.loadContentList(this.demo1.state.type)}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"JSON API Demo 1"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("a",{href:".",onClick:this.handleClickList,children:"Back"})," to the list."]}),this.renderContent()]})}},{key:"renderArticle",value:function(){var e,t=this.demo1.state.result;t.localeContent.Paragraph[0].Image&&(e=t.localeContent.Paragraph[0].Image.Image.link),e=e?this.demo1.SERVER+e:"/favicon.ico";var n=t.localeContent.Title,a=t.localeContent.Author,l=t.localeContent.Intro,c=t.localeContent.Paragraph[0].Caption,i=t.localeContent.Paragraph[0].Text;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:[n," (Detail)"]}),Object(u.jsxs)("p",{children:["by ",a]}),Object(u.jsx)("p",{children:l}),Object(u.jsx)("img",{src:e,alt:c,width:"500"}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})]})}},{key:"renderContent",value:function(){return this.demo1.isTypeArticle()?this.renderArticle():this.demo1.isTypeFaq()?this.renderFaq():Object(u.jsx)("div",{children:"Unknown content type."})}},{key:"renderFaq",value:function(){var e,t=this.demo1.state.result;t.localeContent.Paragraph[0].Image&&(e=t.localeContent.Paragraph[0].Image.Image.link),e=e?this.demo1.SERVER+e:"/favicon.ico";var n=t.localeContent.Paragraph[0].Image.Image.link,a=t.localeContent.Question,l=t.localeContent.Paragraph[0].Caption,c=t.localeContent.Paragraph[0].Text;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:[a," (Detail)"]}),Object(u.jsx)("p",{children:l}),Object(u.jsx)("img",{src:e,alt:n,width:"500"}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})]})}}]),n}(r.a.Component),O=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).demo1=e.demo1,l}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.demo1.loadContentList(this.demo1.state.type)}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"JSON API Demo 1"}),Object(u.jsx)(j,{demo1:this.demo1}),Object(u.jsx)(v,{demo1:this.demo1}),Object(u.jsx)(m,{demo1:this.demo1})]})}}]),n}(r.a.Component),v=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).handleChange=l.handleChange.bind(Object(c.a)(l)),l.demo1=e.demo1,l}return Object(l.a)(n,[{key:"handleChange",value:function(e){this.demo1.loadContentList(this.demo1.state.type,e.target.value)}},{key:"render",value:function(){var e=this.demo1.localeList.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}));return Object(u.jsxs)("div",{className:"demo1-select",children:[Object(u.jsx)("label",{htmlFor:"demo1LocaleSelect",children:"Please select a locale: "}),Object(u.jsx)("select",{id:"demo1LocaleSelect",value:this.demo1.state.locale,onChange:this.handleChange,children:e})]})}}]),n}(r.a.Component),C=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).SERVER="",l.API_ENDPOINT=l.SERVER+"/json",l.CONTENT_FOLDER=l.API_ENDPOINT+"/sites/default/mercury-demo/.content/",l.PARAMS="?content&wrapper",l.TYPE_ARTICLE="article-m",l.TYPE_FAQ="faq-m",l.typeList=[l.TYPE_ARTICLE,l.TYPE_FAQ],l.label={"article-m":"Article","faq-m":"FAQ"},l.localeList=["en","de"],l.state={type:l.TYPE_ARTICLE,content:null,result:{},locale:"en"},l}return Object(l.a)(n,[{key:"loadContentDetail",value:function(e,t){var n=this;t||(t=this.state.locale);var a="&locale="+t+"&fallbackLocale",l=this.CONTENT_FOLDER+this.state.type+"/"+e+this.PARAMS+a;fetch(l).then((function(e){return e.json()})).then((function(a){n.setState({type:n.state.type,content:e,result:a,locale:t})}))}},{key:"loadContentList",value:function(e,t){var n=this;t||(t=this.state.locale);var a="&locale="+t+"&fallbackLocale",l=this.CONTENT_FOLDER+e+this.PARAMS+a;fetch(l).then((function(e){return e.json()})).then((function(a){n.setState({type:e,content:null,result:a,locale:t})}))}},{key:"isTypeArticle",value:function(){return this.state.type===this.TYPE_ARTICLE}},{key:"isTypeFaq",value:function(){return this.state.type===this.TYPE_FAQ}},{key:"render",value:function(){return this.state.content?Object(u.jsx)(b,{demo1:this}):Object(u.jsx)(O,{demo1:this})}}]),n}(r.a.Component);h.a.render(Object(u.jsx)(C,{}),document.getElementById("root"))}},[[9,1,2]]]);
//# sourceMappingURL=main.b7e466c3.chunk.js.map
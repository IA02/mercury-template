(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),i=n(6),l=n(5),s=n(4),r=n(1),o=n.n(r),h=n(8),d=n.n(h),j=n(0),u=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).view=e.view,c.state=e.state,c}return Object(c.a)(n,[{key:"render",value:function(){return Object(j.jsx)("footer",{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Demo using the OpenCms JSON API."}),Object(j.jsxs)("div",{className:"flex column",children:[Object(j.jsx)("a",{href:"#",className:"doc",children:"Read the API Documentation"}),Object(j.jsx)("a",{href:"#",className:"github",children:"View the Demo Source on GitHub"})]})]})})}}]),n}(o.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).view=e.view,c.state=e.state,c}return Object(c.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"Demo."}),Object(j.jsxs)("h4",{children:[Object(j.jsx)("span",{children:"A demo single page application using "}),Object(j.jsx)("a",{href:"#",children:"React.js"}),Object(j.jsx)("span",{children:" and "}),Object(j.jsx)("a",{href:"#",children:"OpenCms"}),"."]})]})}}]),n}(o.a.Component),m=(n(14),function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).handleClickDetail=c.handleClickDetail.bind(Object(i.a)(c)),c.demo1=e.demo1,c}return Object(c.a)(n,[{key:"handleClickDetail",value:function(e){this.demo1.loadContentDetail(e)}},{key:"render",value:function(){var e=this;return Object.keys(this.demo1.state.result).map((function(t){var n=e.demo1.state.result[t];if(!n.isXmlContent)return!1;var a,c=n.localeContent.Title?n.localeContent.Title:n.localeContent.Question;return n.localeContent.Paragraph[0].Image&&(a=n.localeContent.Paragraph[0].Image.Image.link),a=a?e.demo1.SERVER+a:"/favicon.ico",Object(j.jsxs)("div",{className:"list",children:[Object(j.jsx)("img",{src:a,alt:c}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:c}),Object(j.jsx)("a",{href:"#",onClick:function(n){return e.handleClickDetail(t,n)},children:"Read more"})]})]},t)}))}}]),n}(o.a.Component)),O=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).handleChange=c.handleChange.bind(Object(i.a)(c)),c.demo1=e.demo1,c}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.demo1.loadContentList(e.target.value)}},{key:"render",value:function(){var e=this,t=this,n=this.demo1.state.type,a=this.demo1.typeList.map((function(a){return Object(j.jsxs)("label",{className:"radio",children:[t.demo1.label[a],Object(j.jsx)("input",{type:"radio",name:"content",value:a,checked:n===a,onChange:e.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]},a)}));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Content type"}),a]})}}]),n}(o.a.Component),v=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).handleClickList=c.handleClickList.bind(Object(i.a)(c)),c.demo1=e.demo1,c}return Object(c.a)(n,[{key:"handleClickList",value:function(e){e.preventDefault(),this.demo1.loadContentList(this.demo1.state.type)}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"back",children:Object(j.jsx)("a",{href:"#",onClick:this.handleClickList,children:"Back"})}),this.renderContent()]})}},{key:"renderArticle",value:function(){var e,t=this.demo1.state.result;t.localeContent.Paragraph[0].Image&&(e=t.localeContent.Paragraph[0].Image.Image.link),e=e?this.demo1.SERVER+e:"/favicon.ico";var n=t.localeContent.Title,a=t.localeContent.Author,c=t.localeContent.Intro,i=t.localeContent.Paragraph[0].Caption,l=t.localeContent.Paragraph[0].Text;return Object(j.jsxs)("section",{class:"detail",children:[Object(j.jsx)("h2",{children:n}),Object(j.jsxs)("h4",{children:["by ",a]}),Object(j.jsx)("h4",{children:c}),Object(j.jsx)("img",{src:e,alt:i,width:"500"}),Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:l}})]})}},{key:"renderContent",value:function(){return this.demo1.isTypeArticle()?this.renderArticle():this.demo1.isTypeFaq()?this.renderFaq():Object(j.jsx)("div",{children:"Unknown content type."})}},{key:"renderFaq",value:function(){var e,t=this.demo1.state.result;t.localeContent.Paragraph[0].Image&&(e=t.localeContent.Paragraph[0].Image.Image.link),e=e?this.demo1.SERVER+e:"/favicon.ico";var n=t.localeContent.Paragraph[0].Image.Image.link,a=t.localeContent.Question,c=t.localeContent.Paragraph[0].Caption,i=t.localeContent.Paragraph[0].Text;return Object(j.jsxs)("section",{class:"detail",children:[Object(j.jsx)("h4",{children:a}),Object(j.jsx)("h4",{children:c}),Object(j.jsx)("img",{src:e,alt:n}),Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:i}})]})}}]),n}(o.a.Component),C=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).demo1=e.demo1,c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.demo1.loadContentList(this.demo1.state.type)}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:"select",children:[Object(j.jsx)(O,{demo1:this.demo1}),Object(j.jsx)(f,{demo1:this.demo1})]}),Object(j.jsx)("section",{className:"content",children:Object(j.jsx)(m,{demo1:this.demo1})})]})}}]),n}(o.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).handleChange=c.handleChange.bind(Object(i.a)(c)),c.demo1=e.demo1,c}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.demo1.loadContentList(this.demo1.state.type,e.target.value)}},{key:"render",value:function(){var e=this,t=this.demo1.state.locale,n=this.demo1.localeList.map((function(n){return Object(j.jsxs)("label",{className:"radio",children:[n,Object(j.jsx)("input",{type:"radio",name:"locale",value:n,checked:t===n,onChange:e.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]},n)}));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Locale"}),n]})}}]),n}(o.a.Component),p=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).SERVER="",c.API_ENDPOINT=c.SERVER+"/json",c.CONTENT_FOLDER=c.API_ENDPOINT+"/sites/default/mercury-demo/.content/",c.PARAMS="?content&wrapper",c.TYPE_ARTICLE="article-m",c.TYPE_FAQ="faq-m",c.typeList=[c.TYPE_ARTICLE,c.TYPE_FAQ],c.label={"article-m":"Article","faq-m":"FAQ"},c.localeList=["en","de"],c.state={type:c.TYPE_ARTICLE,content:null,result:{},locale:"en"},c}return Object(c.a)(n,[{key:"loadContentDetail",value:function(e,t){var n=this;t||(t=this.state.locale);var a="&locale="+t+"&fallbackLocale",c=this.CONTENT_FOLDER+this.state.type+"/"+e+this.PARAMS+a;fetch(c).then((function(e){return e.json()})).then((function(a){n.setState({type:n.state.type,content:e,result:a,locale:t})}))}},{key:"loadContentList",value:function(e,t){var n=this;t||(t=this.state.locale);var a="&locale="+t+"&fallbackLocale",c=this.CONTENT_FOLDER+e+this.PARAMS+a;fetch(c).then((function(e){return e.json()})).then((function(a){n.setState({type:e,content:null,result:a,locale:t})}))}},{key:"isTypeArticle",value:function(){return this.state.type===this.TYPE_ARTICLE}},{key:"isTypeFaq",value:function(){return this.state.type===this.TYPE_FAQ}},{key:"render",value:function(){var e=this.state.content?Object(j.jsx)(v,{demo1:this}):Object(j.jsx)(C,{demo1:this});return Object(j.jsx)("main",{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(b,{}),e,Object(j.jsx)(u,{})]})})}}]),n}(o.a.Component);d.a.render(Object(j.jsx)(p,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.510007fa.chunk.js.map
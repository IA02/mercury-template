(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n(3),r=n(5),c=n(4),a=n(1),o=n.n(a),h=n(7),u=n.n(h),l=n(0),v=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).demo3=e.demo3,s.content=e.content,s.settings=e.settings,s}return Object(s.a)(n,[{key:"render",value:function(){var e=this.settings.pieceLayout,t=this.showPieceText()?"m-section-piece-image":"m-section-piece",n=this.showPieceImage()?"m-section-piece-text":"m-section-piece";this.showPieceImage()&&"6"===e&&(n+=" m-section-piece-text-padding");var i=Object(l.jsx)("div",{className:t,children:this.renderImage()}),s=Object(l.jsxs)("div",{className:n,children:[this.renderTitle(),this.renderText(),this.renderLink()]});return"6"===e?Object(l.jsxs)("div",{className:"m-section",children:[!!this.showPieceImage()&&i,!!this.showPieceText()&&s]}):"7"===e?Object(l.jsxs)("div",{className:"m-section",children:[!!this.showPieceText()&&s,!!this.showPieceImage()&&i]}):Object(l.jsxs)("div",{children:["Unknown pieceLayout setting: ",e,"."]})}},{key:"renderImage",value:function(){var e=this.content.localeContent.Image;if(this.showImage()&&e){var t=e.Title,n=e.Image.link,i=this.demo3.SERVER+n;return Object(l.jsx)("img",{src:i,alt:t})}return!1}},{key:"renderLink",value:function(){var e=this.content.localeContent.Link;if(this.showLink()&&e){var t="#"+e.URI.link,n=e.Text;return Object(l.jsx)("a",{href:t,children:n})}return!1}},{key:"renderText",value:function(){var e=this.content.localeContent.Text;return!!this.showText()&&Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}},{key:"renderTitle",value:function(){var e=this.content.localeContent.Title,t=this.settings.hsize;return"1"===t?Object(l.jsx)("h1",{children:e}):"2"===t?Object(l.jsx)("h2",{children:e}):"3"===t?Object(l.jsx)("h3",{children:e}):"4"===t?Object(l.jsx)("h4",{children:e}):"0"!==t&&Object(l.jsx)("h2",{children:"Title"})}},{key:"showImage",value:function(){var e=this.settings.visualOption,t=!0;return"99"===e?t=!0:"0"===e&&(t=!1),t}},{key:"showLink",value:function(){var e=this.settings.linkOption,t=!0;return"button"===e?t=!0:"none"===e&&(t=!1),t}},{key:"showPieceImage",value:function(){return this.showImage()}},{key:"showPieceText",value:function(){return this.showLink()||this.showText()||this.showTitle()}},{key:"showText",value:function(){var e=this.settings.textOption,t=!0;return"default"===e?t=!0:"none"===e&&(t=!1),t}},{key:"showTitle",value:function(){return"0"!==this.settings.hsize}}]),n}(o.a.Component),d=(n(13),function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).SERVER="",s.ENDPOINT=s.SERVER+"/json",s.URI="/sites/default/mercury-json/demo-3/sample-page/index.html",s.PARAMS="?content&wrapper&locale=en&fallbackLocale",s.state={page:null},s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loadPage()}},{key:"loadPage",value:function(){var e=this,t=this.ENDPOINT+this.URI+this.PARAMS;fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({page:t})}))}},{key:"render",value:function(){if(!this.state.page)return!1;var e=this.state.page.containers;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"JSON API Demo 3"}),this.visitContainers(e)]})}},{key:"renderContent",value:function(e,t){var n=e.attributes.type;return"m-section"===n?Object(l.jsx)(v,{demo3:this,content:e,settings:t}):Object(l.jsxs)("div",{children:["Content type ",n," is not supported."]})}},{key:"visitContainer",value:function(e){var t=e.elements;return this.visitElements(t)}},{key:"visitContainers",value:function(e){var t=this;return e.map((function(e){return Object(l.jsx)("div",{children:t.visitContainer(e)},e.name)}))}},{key:"visitElement",value:function(e){var t=e.containers,n=e.formatterKey,i=e.path,s=this.state.page.linkedContents[i],r=e.settings;return t.length?this.visitContainers(t):!(!n||!n.endsWith("/json"))&&this.renderContent(s,r)}},{key:"visitElements",value:function(e){var t=this;return e.map((function(e,n){return Object(l.jsx)("div",{children:t.visitElement(e)},e.path+n)}))}}]),n}(o.a.Component));u.a.render(Object(l.jsx)(d,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6906f6b8.chunk.js.map
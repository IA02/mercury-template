(this.webpackJsonpdemo2=this.webpackJsonpdemo2||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n(3),c=n(6),s=n(5),o=n(4),r=n(1),l=n.n(r),h=n(8),d=n.n(h),u=n(0),j=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).demo=e.demo,a.content=e.content,a.alt=e.alt,a}return Object(a.a)(n,[{key:"imageUrl",get:function(){return this.demo.SERVER+this.content.Image.link}},{key:"render",value:function(){return!!this.content&&Object(u.jsx)("img",{src:this.imageUrl,alt:this.alt})}}]),n}(l.a.Component),m=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).demo=e.demo,a.content=e.content,a}return Object(a.a)(n,[{key:"caption",get:function(){return this.content.Caption}},{key:"image",get:function(){return this.content.Image}},{key:"text",get:function(){return this.content.Text}},{key:"title",get:function(){return this.content.Title}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:this.caption}),Object(u.jsx)(j,{demo:this.demo,content:this.image,alt:this.title}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:this.text}})]})}}]),n}(l.a.Component),b=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).demo=e.demo,a.content=e.content,a.mode=e.mode,a.handleClickDetail=a.handleClickDetail.bind(Object(c.a)(a)),a}return Object(a.a)(n,[{key:"author",get:function(){return this.localeContent.Author}},{key:"file",get:function(){return this.content.path}},{key:"intro",get:function(){return this.localeContent.Intro}},{key:"localeContent",get:function(){return this.content.localeContent?this.content.localeContent:this.content}},{key:"paragraphs",get:function(){if(!this.localeContent.Paragraph)return!1;var e=this;return this.localeContent.Paragraph.map((function(t,n){return Object(u.jsx)(m,{demo:e.demo,content:t},n)}))}},{key:"title",get:function(){return this.localeContent.Title}},{key:"handleClickDetail",value:function(e){this.demo.loadContentDetail(e)}},{key:"render",value:function(){return"preview"===this.mode?this.renderPreview():this.renderDefault()}},{key:"renderDefault",value:function(){return Object(u.jsxs)("section",{className:"detail",children:[Object(u.jsx)("h3",{children:this.title}),Object(u.jsxs)("h4",{children:["by ",this.author]}),Object(u.jsx)("h4",{children:this.intro}),this.paragraphs]})}},{key:"renderPreview",value:function(){var e=this,t=this.localeContent.Paragraph?this.localeContent.Paragraph[0].Image:null,n=this.title;return Object(u.jsxs)("div",{className:"list",children:[Object(u.jsx)(j,{demo:this.demo,content:t,alt:n}),Object(u.jsxs)("div",{children:[Object(u.jsx)("small",{children:"m-article"}),Object(u.jsx)("h3",{children:this.title}),Object(u.jsx)("a",{href:"#",onClick:function(t){return e.handleClickDetail(e.file,t)},children:"Read more"})]})]})}}]),n}(l.a.Component),O=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).demo=e.demo,a.content=e.content,a.mode=e.mode,a.handleClickDetail=a.handleClickDetail.bind(Object(c.a)(a)),a}return Object(a.a)(n,[{key:"email",get:function(){var e=this.localeContent.Contact;return!(!e||!e.Email)&&e.Email.Email}},{key:"file",get:function(){return this.content.path}},{key:"firstName",get:function(){var e=this.localeContent.Name;return!!e&&e.FirstName}},{key:"image",get:function(){return this.localeContent.Image}},{key:"kind",get:function(){var e=this.content.localeContent.Kind;return e||!1}},{key:"lastName",get:function(){var e=this.localeContent.Name;return!!e&&e.LastName}},{key:"localeContent",get:function(){return this.content.localeContent?this.content.localeContent:this.content}},{key:"locality",get:function(){var e=this.localeContent.Contact,t=e.AddressChoice.Address,n=e.AddressChoice.PoiLink;if(t)return t.Locality;if(n){var i=n.path,a=this.content.linkedContents[i].localeContent.Address.Locality;if(a)return a}return!1}},{key:"mobile",get:function(){var e=this.localeContent.Contact;return!!e&&e.Mobile}},{key:"organization",get:function(){return this.localeContent.Organization}},{key:"phone",get:function(){var e=this.localeContent.Contact;return!!e&&e.Phone}},{key:"position",get:function(){return this.localeContent.Position}},{key:"postalCode",get:function(){var e=this.localeContent.Contact,t=e.AddressChoice.Address,n=e.AddressChoice.PoiLink;if(t)return t.PostalCode;if(n){var i=n.path,a=this.content.linkedContents[i].localeContent.Address.PostalCode;if(a)return a}return!1}},{key:"streetAddress",get:function(){var e=this.localeContent.Contact,t=e.AddressChoice.Address,n=e.AddressChoice.PoiLink;if(t)return t.StreetAddress;if(n){var i=n.path,a=this.content.linkedContents[i].localeContent.Address.StreetAddress;if(a)return a}return!1}},{key:"handleClickDetail",value:function(e){this.demo.loadContentDetail(e)}},{key:"render",value:function(){return"preview"===this.mode?this.renderPreview():this.renderDefault()}},{key:"renderDefault",value:function(){var e="person"===this.kind&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h4",{children:["Email: ",Object(u.jsx)("a",{href:"email:"+this.email,children:this.email})]}),Object(u.jsxs)("h4",{children:["Mobile: ",this.mobile]})]});return Object(u.jsxs)("section",{className:"detail",children:[Object(u.jsxs)("h3",{children:[this.firstName," ",this.lastName," ",Object(u.jsx)("small",{children:this.position})]}),Object(u.jsx)("h4",{children:Object(u.jsx)("strong",{children:this.organization})}),Object(u.jsx)("h4",{children:this.streetAddress}),Object(u.jsxs)("h4",{children:[this.postalCode," ",this.locality]}),Object(u.jsx)(j,{demo:this.demo,content:this.image,alt:this.firstName+" "+this.lastName+", "+this.position}),e,Object(u.jsxs)("h4",{children:["Phone: ",this.phone]})]})}},{key:"renderPreview",value:function(){var e=this,t="person"===this.kind?this.firstName+" "+this.lastName:this.organization;return Object(u.jsxs)("div",{className:"list",children:[Object(u.jsx)(j,{demo:this.demo,content:this.image,alt:t}),Object(u.jsxs)("div",{children:[Object(u.jsx)("small",{children:"m-contact"}),Object(u.jsx)("h3",{children:t}),Object(u.jsx)("a",{href:"#",onClick:function(t){return e.handleClickDetail(e.file,t)},children:"Read more"})]})]})}}]),n}(l.a.Component),f=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).view=e.view,a.state=e.state,a}return Object(a.a)(n,[{key:"render",value:function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Demo using the OpenCms JSON API."}),Object(u.jsxs)("div",{className:"flex column",children:[Object(u.jsx)("a",{href:"https://documentation.opencms.org/opencms-documentation/more-opencms-features/json-api/",target:"_blank",className:"doc",children:"Read the API Documentation"}),Object(u.jsx)("a",{href:"https://github.com/alkacon/mercury-json",target:"_blank",className:"github",children:"View the Demo Source on GitHub"})]})]})})}}]),n}(l.a.Component),C=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).title=e.title,a}return Object(a.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("header",{children:[Object(u.jsx)("h1",{children:this.title}),Object(u.jsxs)("h4",{children:[Object(u.jsx)("span",{children:"A demo single page application using "}),Object(u.jsx)("a",{href:"#",children:"OpenCms"}),"."]})]})}}]),n}(l.a.Component),k=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).demo=e.demo,a.content=e.content,a.mode=e.mode,a.handleClickDetail=a.handleClickDetail.bind(Object(c.a)(a)),a}return Object(a.a)(n,[{key:"file",get:function(){return this.content.path}},{key:"localeContent",get:function(){return this.content.localeContent?this.content.localeContent:this.content}},{key:"question",get:function(){return this.localeContent.Question}},{key:"paragraphs",get:function(){if(!this.localeContent.Paragraph)return!1;var e=this;return this.localeContent.Paragraph.map((function(t,n){return Object(u.jsx)(m,{demo:e.demo,content:t},n)}))}},{key:"handleClickDetail",value:function(e){this.demo.loadContentDetail(e)}},{key:"render",value:function(){return"preview"===this.mode?this.renderPreview():this.renderDefault()}},{key:"renderDefault",value:function(){return Object(u.jsxs)("section",{className:"detail",children:[Object(u.jsx)("h3",{children:this.question}),this.paragraphs]})}},{key:"renderPreview",value:function(){var e=this,t=this.localeContent.Paragraph?this.localeContent.Paragraph[0].Image:null,n=this.question;return Object(u.jsxs)("div",{className:"list",children:[Object(u.jsx)(j,{demo:this.demo,content:t,alt:n}),Object(u.jsxs)("div",{children:[Object(u.jsx)("small",{children:"m-faq"}),Object(u.jsx)("h3",{children:this.question}),Object(u.jsx)("a",{href:"#",onClick:function(t){return e.handleClickDetail(e.file,t)},children:"Read more"})]})]})}}]),n}(l.a.Component),v=(n(14),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleClickList=a.handleClickList.bind(Object(c.a)(a)),a.demo2=e.demo2,a}return Object(a.a)(n,[{key:"handleClickList",value:function(e){e.preventDefault(),this.demo2.loadList(this.demo2.state.sort,this.demo2.state.rows)}},{key:"render",value:function(){var e,t=this.demo2.state.content,n=t.properties.Title,i=t.attributes.type;return e="m-article"===i?Object(u.jsx)(b,{demo:this.demo2,content:t}):"m-contact"===i?Object(u.jsx)(O,{demo:this.demo2,content:t}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:n}),Object(u.jsxs)("p",{children:["Unknown detail type: ",i,"."]})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"back",children:Object(u.jsx)("a",{href:"",onClick:this.handleClickList,children:"Back"})}),e]})}}]),n}(l.a.Component)),x=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleClickContent=a.handleClickContent.bind(Object(c.a)(a)),a.handleShowMore=a.handleShowMore.bind(Object(c.a)(a)),a.demo2=e.demo2,a}return Object(a.a)(n,[{key:"handleClickContent",value:function(e){var t=e.path;this.demo2.loadContent(t)}},{key:"handleShowMore",value:function(e){this.demo2.loadListMore()}},{key:"render",value:function(){var e=this,t=this.demo2.state.list,n=t.list?t.list.map((function(t,n){var i=t.attributes.type,a=t.properties.Title+n;return"m-article"===i?Object(u.jsx)(b,{demo:e.demo2,content:t,mode:"preview"},a):"m-contact"===i?Object(u.jsx)(O,{demo:e.demo2,content:t,mode:"preview"},a):"m-faq"===i?Object(u.jsx)(k,{demo:e.demo2,content:t,mode:"preview"},a):Object(u.jsx)("div",{children:"Unknown content type."})})):null,i="",a=!0;t.listInfo&&(i+=(this.demo2.state.rows>t.listInfo.numFound?t.listInfo.numFound:this.demo2.state.rows)+"/"+t.listInfo.numFound,a=this.demo2.state.rows<t.listInfo.numFound);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,{demo2:this.demo2}),n,Object(u.jsxs)("div",{className:"flex column",children:[Object(u.jsx)("h4",{children:i}),Object(u.jsx)("button",{onClick:this.handleShowMore,disabled:!a,children:Object(u.jsx)("big",{children:"Show more..."})})]})]})}}]),n}(l.a.Component),p=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(c.a)(a)),a.demo2=e.demo2,a}return Object(a.a)(n,[{key:"handleChange",value:function(e){this.demo2.loadList(e.target.value)}},{key:"render",value:function(){var e=this.demo2.state.sort;return Object(u.jsx)("section",{className:"select",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Sort by"}),Object(u.jsxs)("label",{className:"radio",children:["Date ascending",Object(u.jsx)("input",{type:"radio",value:"DATE_ASC",name:"sort",checked:"DATE_ASC"===e,onChange:this.handleChange}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsxs)("label",{className:"radio",children:["Date descending",Object(u.jsx)("input",{type:"radio",name:"sort",value:"DATE_DESC",checked:"DATE_DESC"===e,onChange:this.handleChange}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsxs)("label",{className:"radio",children:["Title ascending",Object(u.jsx)("input",{type:"radio",name:"sort",value:"TITLE_ASC",checked:"TITLE_ASC"===e,onChange:this.handleChange}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsxs)("label",{className:"radio",children:["Title descending",Object(u.jsx)("input",{type:"radio",name:"sort",value:"TITLE_DESC",checked:"TITLE_DESC"===e,onChange:this.handleChange}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsxs)("label",{className:"radio",children:["Order ascending",Object(u.jsx)("input",{type:"radio",name:"sort",value:"ORDER_ASC",checked:"ORDER_ASC"===e,onChange:this.handleChange}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsxs)("label",{className:"radio",children:["Order descending",Object(u.jsx)("input",{type:"radio",name:"sort",value:"ORDER_DESC",checked:"ORDER_DESC"===e,onChange:this.handleChange}),Object(u.jsx)("span",{className:"checkmark"})]})]})})}}]),n}(l.a.Component),g=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var c=document.getElementById("root").dataset.contextPath;return a.SERVER="${pageContext.request.contextPath}"===c?"":c,a.ENDPOINT=a.SERVER+"/json",a.LIST="/sites/default/mercury-json/.content/list-m/list_00001.xml",a.PARAMS="?content&wrapper&locale=en&fallbackLocale",a.state={content:null,list:{},sort:"",rows:5},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.loadList()}},{key:"loadContentDetail",value:function(e){var t=this,n=this.ENDPOINT+e+this.PARAMS;fetch(n).then((function(e){return e.json()})).then((function(e){t.setState({content:e,list:t.state.list,sort:t.state.sort,rows:t.state.rows})}))}},{key:"loadList",value:function(e,t){var n=this,i=this.ENDPOINT+this.LIST+this.PARAMS;e&&(i+="&sort="+e),t||(t=5),i+="&rows="+t,fetch(i).then((function(e){return e.json()})).then((function(i){e||(e=i.SortOrder),n.setState({content:null,list:i,sort:e,rows:t})}))}},{key:"loadListMore",value:function(){var e=this.state.rows+5;this.loadList(this.state.sort,e)}},{key:"render",value:function(){var e=this.state.content?Object(u.jsx)(v,{demo2:this}):Object(u.jsx)(x,{demo2:this});return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(C,{title:"Demo 2"}),e,Object(u.jsx)(f,{})]})})}}]),n}(l.a.Component);d.a.render(Object(u.jsx)(g,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d8963c1f.chunk.js.map
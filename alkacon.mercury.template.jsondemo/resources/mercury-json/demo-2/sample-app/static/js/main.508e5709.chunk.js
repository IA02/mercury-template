(this.webpackJsonpdemo2=this.webpackJsonpdemo2||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(3),s=n(6),c=n(5),r=n(4),o=n(1),l=n.n(o),h=n(8),d=n.n(h),j=n(0),u=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).demo2=e.demo2,i.content=e.content,i}return Object(i.a)(n,[{key:"author",get:function(){var e=this.content.localeContent.Author;return e||!1}},{key:"caption",get:function(){var e=this.content.localeContent.Paragraph;if(e&&e instanceof Array&&e.length){var t=e[0].Caption;if(t)return t}return!1}},{key:"imageSrc",get:function(){var e=this.content.localeContent.Paragraph;if(e&&e instanceof Array&&e.length){var t=e[0].Image;if(t){var n=t.Image.link;return n=n?this.demo2.SERVER+n:"/favicon.ico"}}return!1}},{key:"intro",get:function(){var e=this.content.localeContent.Intro;return e||!1}},{key:"text",get:function(){var e=this.content.localeContent.Paragraph;if(e&&e instanceof Array&&e.length){var t=e[0].Text;if(t)return t}return!1}},{key:"title",get:function(){var e=this.content.localeContent.Title;return e||!1}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:this.title}),Object(j.jsxs)("h4",{children:["by ",this.author]}),Object(j.jsx)("h4",{children:this.intro}),Object(j.jsx)("img",{src:this.imageSrc,alt:this.caption?this.caption:this.title}),Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:this.text}})]})}}]),n}(l.a.Component),m=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).demo2=e.demo2,i.content=e.content,i}return Object(i.a)(n,[{key:"email",get:function(){var e=this.content.localeContent.Contact;return!(!e||!e.Email)&&e.Email.Email}},{key:"firstName",get:function(){var e=this.content.localeContent.Name;return!!e&&e.FirstName}},{key:"imageSrc",get:function(){var e=this.content.localeContent.Image;return!!e&&this.demo2.SERVER+e.Image.link}},{key:"kind",get:function(){var e=this.content.localeContent.Kind;return e||!1}},{key:"lastName",get:function(){var e=this.content.localeContent.Name;return!!e&&e.LastName}},{key:"locality",get:function(){var e=this.content.localeContent.Contact,t=e.AddressChoice.Address,n=e.AddressChoice.PoiLink;if(t)return t.Locality;if(n){var a=n.path,i=this.content.linkedContents[a].localeContent.Address.Locality;if(i)return i}return!1}},{key:"mobile",get:function(){var e=this.content.localeContent.Contact;return!!e&&e.Mobile}},{key:"organization",get:function(){return this.content.localeContent.Organization}},{key:"phone",get:function(){var e=this.content.localeContent.Contact;return!!e&&e.Phone}},{key:"position",get:function(){return this.content.localeContent.Position}},{key:"postalCode",get:function(){var e=this.content.localeContent.Contact,t=e.AddressChoice.Address,n=e.AddressChoice.PoiLink;if(t)return t.PostalCode;if(n){var a=n.path,i=this.content.linkedContents[a].localeContent.Address.PostalCode;if(i)return i}return!1}},{key:"streetAddress",get:function(){var e=this.content.localeContent.Contact,t=e.AddressChoice.Address,n=e.AddressChoice.PoiLink;if(t)return t.StreetAddress;if(n){var a=n.path,i=this.content.linkedContents[a].localeContent.Address.StreetAddress;if(i)return i}return!1}},{key:"render",value:function(){var e="person"===this.kind&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h4",{children:["Email: ",Object(j.jsx)("a",{href:"email:"+this.email,children:this.email})]}),Object(j.jsxs)("h4",{children:["Mobile: ",this.mobile]})]});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h2",{children:[this.firstName," ",this.lastName," ",Object(j.jsx)("small",{children:this.position})]}),Object(j.jsx)("h4",{children:Object(j.jsx)("strong",{children:this.organization})}),Object(j.jsx)("h4",{children:this.streetAddress}),Object(j.jsxs)("h4",{children:[this.postalCode," ",this.locality]}),Object(j.jsx)("img",{src:this.imageSrc,alt:this.firstName+" "+this.lastName+", "+this.position}),e,Object(j.jsxs)("h4",{children:["Phone: ",this.phone]})]})}}]),n}(l.a.Component),b=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).view=e.view,i.state=e.state,i}return Object(i.a)(n,[{key:"render",value:function(){return Object(j.jsx)("footer",{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Demo using the OpenCms JSON API."}),Object(j.jsxs)("div",{className:"flex column",children:[Object(j.jsx)("a",{href:"#",className:"doc",children:"Read the API Documentation"}),Object(j.jsx)("a",{href:"#",className:"github",children:"View the Demo Source on GitHub"})]})]})})}}]),n}(l.a.Component),O=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).view=e.view,i.state=e.state,i}return Object(i.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"Demo."}),Object(j.jsxs)("h4",{children:[Object(j.jsx)("span",{children:"A demo single page application using "}),Object(j.jsx)("a",{href:"#",children:"React.js"}),Object(j.jsx)("span",{children:" and "}),Object(j.jsx)("a",{href:"#",children:"OpenCms"}),"."]})]})}}]),n}(l.a.Component),f=(n(14),function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleClickList=i.handleClickList.bind(Object(s.a)(i)),i.demo2=e.demo2,i}return Object(i.a)(n,[{key:"handleClickList",value:function(e){e.preventDefault(),this.demo2.loadList()}},{key:"render",value:function(){var e,t=this.demo2.state.content,n=t.properties.Title,a=t.attributes.type;return e="m-article"===a?Object(j.jsx)(u,{demo2:this.demo2,content:t}):"m-contact"===a?Object(j.jsx)(m,{demo2:this.demo2,content:t}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:n}),Object(j.jsxs)("p",{children:["Unknown detail type: ",a,"."]})]}),Object(j.jsxs)("section",{className:"detail",children:[Object(j.jsx)("h3",{className:"back",children:Object(j.jsx)("a",{href:"",onClick:this.handleClickList,children:"Back"})}),e]})}}]),n}(l.a.Component)),C=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleClickContent=i.handleClickContent.bind(Object(s.a)(i)),i.handleShowMore=i.handleShowMore.bind(Object(s.a)(i)),i.demo2=e.demo2,i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.demo2.loadList()}},{key:"handleClickContent",value:function(e){var t=e.path;this.demo2.loadContent(t)}},{key:"handleShowMore",value:function(e){this.demo2.loadListMore()}},{key:"renderItemArticle",value:function(e){var t=this;return Object(j.jsxs)(j.Fragment,{children:[this.renderUtilPreviewImage(e.localeContent.Paragraph[0].Image),Object(j.jsxs)("div",{children:[Object(j.jsx)("small",{children:e.attributes.type}),Object(j.jsx)("h3",{children:e.properties.Title}),Object(j.jsx)("a",{href:"#",onClick:function(n){return t.handleClickContent(e,n)},children:"Read more"})]})]})}},{key:"renderItemContact",value:function(e){var t=this;return Object(j.jsxs)(j.Fragment,{children:[this.renderUtilPreviewImage(e.localeContent.Image),Object(j.jsxs)("div",{children:[Object(j.jsx)("small",{children:e.attributes.type}),Object(j.jsx)("h3",{children:e.properties.Title}),Object(j.jsx)("a",{href:"#",onClick:function(n){return t.handleClickContent(e,n)},children:"Read more"})]})]})}},{key:"render",value:function(){var e=this,t=this.demo2.state.list,n=t.list?t.list.map((function(t,n){var a,i=t.attributes.type;return a="m-article"===i?e.renderItemArticle(t):"m-contact"===i?e.renderItemContact(t):Object(j.jsxs)("div",{children:["Unknown list type: ",i,"."]}),Object(j.jsx)("div",{className:"list",children:a},t.properties.Title+n)})):null,a="",i=!0;t.listInfo&&(a+=(this.demo2.state.rows>t.listInfo.numFound?t.listInfo.numFound:this.demo2.state.rows)+"/"+t.listInfo.numFound,i=this.demo2.state.rows<t.listInfo.numFound);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{demo2:this.demo2}),Object(j.jsx)("section",{className:"content",children:n}),Object(j.jsxs)("div",{className:"flex column",children:[Object(j.jsx)("h4",{children:a}),Object(j.jsx)("button",{onClick:this.handleShowMore,disabled:!i,children:Object(j.jsx)("big",{children:"Show more..."})})]})]})}},{key:"renderUtilPreviewImage",value:function(e){var t=e&&e.Image&&e.Image.link?this.demo2.SERVER+e.Image.link:this.demo2.SERVER+"/.galleries/cliparts/default.png",n=e&&e.Image&&e.Image.Title?e.Image.Title:"";return Object(j.jsx)("img",{src:t,alt:n,className:"demo2-list-item-img"})}}]),n}(l.a.Component),v=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).handleChange=i.handleChange.bind(Object(s.a)(i)),i.demo2=e.demo2,i}return Object(i.a)(n,[{key:"handleChange",value:function(e){this.demo2.loadList(e.target.value)}},{key:"render",value:function(){var e=this.demo2.state.sort;return Object(j.jsx)("section",{className:"select",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Sort by"}),Object(j.jsxs)("label",{className:"radio",children:["Date ascending",Object(j.jsx)("input",{type:"radio",value:"DATE_ASC",name:"sort",checked:"DATE_ASC"===e,onChange:this.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsxs)("label",{className:"radio",children:["Date descending",Object(j.jsx)("input",{type:"radio",name:"sort",value:"DATE_DESC",checked:"DATE_DESC"===e,onChange:this.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsxs)("label",{className:"radio",children:["Title ascending",Object(j.jsx)("input",{type:"radio",name:"sort",value:"TITLE_ASC",checked:"TITLE_ASC"===e,onChange:this.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsxs)("label",{className:"radio",children:["Title descending",Object(j.jsx)("input",{type:"radio",name:"sort",value:"TITLE_DESC",checked:"TITLE_DESC"===e,onChange:this.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsxs)("label",{className:"radio",children:["Order ascending",Object(j.jsx)("input",{type:"radio",name:"sort",value:"ORDER_ASC",checked:"ORDER_ASC"===e,onChange:this.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsxs)("label",{className:"radio",children:["Order descending",Object(j.jsx)("input",{type:"radio",name:"sort",value:"ORDER_DESC",checked:"ORDER_DESC"===e,onChange:this.handleChange}),Object(j.jsx)("span",{className:"checkmark"})]})]})})}}]),n}(l.a.Component),x=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).SERVER="",i.ENDPOINT=i.SERVER+"/json",i.LIST="/sites/default/mercury-json/.content/list-m/list_00001.xml",i.PARAMS="?content&wrapper&locale=en&fallbackLocale",i.state={content:null,list:{},sort:"",rows:5},i}return Object(i.a)(n,[{key:"loadContent",value:function(e){var t=this,n=this.ENDPOINT+e+this.PARAMS;fetch(n).then((function(e){return e.json()})).then((function(e){t.setState({content:e,list:t.state.list,sort:t.state.sort,rows:t.state.rows})}))}},{key:"loadList",value:function(e,t){var n=this,a=this.ENDPOINT+this.LIST+this.PARAMS;e&&(a+="&sort="+e),t||(t=5),a+="&rows="+t,fetch(a).then((function(e){return e.json()})).then((function(a){e||(e=a.SortOrder),n.setState({content:null,list:a,sort:e,rows:t})}))}},{key:"loadListMore",value:function(){var e=this.state.rows+5;this.loadList(this.state.sort,e)}},{key:"render",value:function(){var e=this.state.content?Object(j.jsx)(f,{demo2:this}):Object(j.jsx)(C,{demo2:this});return Object(j.jsx)("main",{children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(O,{}),e,Object(j.jsx)(b,{})]})})}}]),n}(l.a.Component);d.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.508e5709.chunk.js.map